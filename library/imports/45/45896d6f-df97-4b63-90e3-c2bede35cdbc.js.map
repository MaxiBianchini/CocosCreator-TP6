{"version":3,"sources":["assets\\Scripts\\Bloque.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class NewClass extends cc.Component {\r\n\r\n    @property\r\n    Tipo:number = 0;\r\n\r\n    @property(cc.AudioClip)\r\n    SonidoBloque:cc.AudioClip = null;\r\n\r\n    PrimerContacto:boolean;\r\n    Movimineto:boolean;\r\n\r\n    Direccion:number;\r\n    Velocidad:number;\r\n    Inicio:number;\r\n    Fin:number;\r\n\r\n    MoverPlayer(event){\r\n        switch(event.keyCode){\r\n            case cc.macro.KEY.space:\r\n\r\n                this.node.getComponent(cc.RigidBody).type = cc.RigidBodyType.Dynamic;\r\n                this.Movimineto = false;\r\n\r\n            break;\r\n        }\r\n    }\r\n\r\n    SetVelocidad(x){\r\n        this.Velocidad = x;\r\n    }\r\n\r\n    DescativarBloque(){\r\n        this.node.active = false;\r\n    }\r\n\r\n    onBeginContact(contact, selfCollider, otherCollider){\r\n\r\n        cc.audioEngine.playEffect(this.SonidoBloque,false);\r\n\r\n        if(selfCollider.tag == 0 && !this.PrimerContacto){\r\n           this.node.parent.getComponent('Game').CrearNuevoBloque(this.node.getPosition().x, this.node.getPosition().y);\r\n           this.PrimerContacto = true;\r\n        }\r\n\r\n        if (this.Tipo == 0){\r\n            if(otherCollider.tag == 1 )this.node.parent.getComponent('Game').Perdio();\r\n        }\r\n    }\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.MoverPlayer,this);\r\n      \r\n        this.node.getComponent(cc.RigidBody).type = cc.RigidBodyType.Static;\r\n\r\n        this.PrimerContacto = false;\r\n        this.Movimineto = true;\r\n\r\n        this.Direccion = 1;\r\n        this.Velocidad = 5;\r\n\r\n        this.Inicio = -230;\r\n        this.Fin = 230;\r\n    }\r\n\r\n    start () {}\r\n\r\n    update (dt) {\r\n\r\n        if(this.Movimineto){\r\n            this.node.setPosition(this.node.getPosition().x + (this.Direccion* this.Velocidad), this.node.getPosition().y);\r\n\r\n            if(this.node.getPosition().x >= this.Fin || this.node.getPosition().x <= this.Inicio) this.Direccion *= -1;\r\n        }\r\n    }\r\n}\r\n"]}