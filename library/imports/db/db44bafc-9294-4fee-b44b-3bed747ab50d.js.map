{"version":3,"sources":["assets\\Scripts\\Game.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class NewClass extends cc.Component {\r\n\r\n    @property(cc.Prefab)\r\n    Bloque:cc.Prefab = null;\r\n\r\n    @property(cc.Node)\r\n    Camara:cc.Node = null;\r\n\r\n    @property(cc.Label)\r\n    Score:cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    Objetivo:cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    Tiempo:cc.Label = null;\r\n    \r\n    @property(cc.Node)\r\n    Base:cc.Node = null;\r\n\r\n    @property\r\n    NumEscena:number = 0;\r\n\r\n    @property(cc.AudioClip)\r\n    SonidoJuego:cc.AudioClip = null;\r\n\r\n    @property(cc.TextAsset)\r\n    FileTXTNivel:cc.TextAsset = null;\r\n\r\n    @property(cc.TextAsset)\r\n    FileTXTPuntaje:cc.TextAsset = null;\r\n\r\n    Timer:number;\r\n    NumBloques:number;\r\n\r\n    Desactivar:boolean;\r\n    TimerPantalla:number;\r\n    playerScore:number;\r\n    Segundos:number;\r\n\r\n    TimerPantallaOn:boolean;\r\n\r\n    Velocidad:number;\r\n\r\n    PosBloqueViejo:number;\r\n    PosBloqueNuevo:number;\r\n\r\n    CrearNuevoBloque(x,y){\r\n        y +=250;\r\n\r\n        \r\n        this.GanarPuntaje(x);\r\n        \r\n        if (this.Desactivar) return;\r\n\r\n        let NuevoBLoque = cc.instantiate(this.Bloque);\r\n        NuevoBLoque.setPosition(0, y);\r\n        this.node.addChild(NuevoBLoque);\r\n        \r\n        this.NumBloques += 1;\r\n\r\n        if (this.NumEscena == 3){ \r\n            if (this.Timer >= 3){\r\n                this.Velocidad += 2.5;\r\n                this.Timer = 0;\r\n            }\r\n        }\r\n        NuevoBLoque.getComponent('Bloque').SetVelocidad(this.Velocidad);\r\n        this.Camara.setPosition(this.Camara.getPosition().x, y)\r\n    }\r\n\r\n    Perdio(){\r\n      \r\n        this.FileTXTPuntaje.text =  this.playerScore.toString();\r\n        this.FileTXTNivel.text =  this.NumEscena.toString(); \r\n        cc.director.loadScene('MenuPerdio');\r\n    }\r\n\r\n    Gano(){\r\n        this.NumEscena++;\r\n        this.FileTXTPuntaje.text =  this.playerScore.toString();\r\n        this.FileTXTNivel.text =  this.NumEscena.toString();\r\n        cc.director.loadScene('MenuGano');\r\n    }\r\n\r\n\r\n    GanarPuntaje(x){\r\n\r\n        if (this.NumBloques == 1) {\r\n            this.PosBloqueViejo = x;\r\n            return;\r\n        }\r\n\r\n        this.PosBloqueNuevo = x;\r\n        let Diferencia = this.PosBloqueNuevo - this.PosBloqueViejo;\r\n\r\n        if (Diferencia < 0) Diferencia * -1;\r\n\r\n        if (Diferencia <= 30) this.playerScore += 50;\r\n        else if (Diferencia <= 70) this.playerScore += 25;\r\n        else if (Diferencia <= 100) this.playerScore += 10;\r\n\r\n        this.Score.string = 'Puntaje: '+ this.playerScore.toString();\r\n\r\n        this.PosBloqueViejo = this.PosBloqueNuevo;\r\n    }\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        let physics_manager = cc.director.getPhysicsManager();\r\n        physics_manager.enabled = true;\r\n        physics_manager.gravity = cc.v2 (0,-2000);\r\n\r\n        this.Timer = 0;\r\n        this.Velocidad = 5;\r\n        this.NumBloques = 1;\r\n        this.playerScore = 0;\r\n        this.TimerPantalla = 0;\r\n        this.Segundos = 0;\r\n\r\n        this.TimerPantallaOn = false;\r\n        this.Base.active = false;\r\n        this.Desactivar = false;\r\n\r\n        if (this.NumEscena == 1 || this.NumEscena == 3 ){\r\n            this.Tiempo.enabled = false;\r\n        }\r\n\r\n        cc.audioEngine.playEffect(this.SonidoJuego,true);\r\n        \r\n    }\r\n\r\n    start () {}\r\n\r\n    update (dt) {\r\n\r\n        if ((this.NumEscena == 1 && this.NumBloques == 5) || (this.NumEscena == 2 && this.Segundos == 10) || (this.NumEscena == 3 && this.NumBloques == 10)) {\r\n            \r\n            this.TimerPantallaOn = false;\r\n\r\n            if (!this.Desactivar){\r\n                this.Timer = 0;\r\n                this.Desactivar = true;\r\n            }\r\n            if (this.Timer >= 5) {\r\n                this.Gano();\r\n            }\r\n        }\r\n\r\n        if (this.Timer >= 4 && this.Base.active == false){\r\n            this.Objetivo.enabled = false;\r\n            this.Base.active = true;\r\n            this.TimerPantallaOn = true;\r\n            this.Timer = 0;\r\n            this.TimerPantalla = 0;\r\n        }\r\n\r\n        if(this.TimerPantalla >= 1 && this.TimerPantallaOn){\r\n            this.Segundos++\r\n            this.Tiempo.string = 'Tiempo: '+ this.Segundos.toString();\r\n            this.TimerPantalla = 0;\r\n        }\r\n\r\n        this.TimerPantalla += dt;\r\n        this.Timer += dt;\r\n    }\r\n}\r\n"]}